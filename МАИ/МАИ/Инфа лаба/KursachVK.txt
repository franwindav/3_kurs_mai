#include <iostream>
#include <fstream> // библиотека для работы с файлами
#include <ctime> // библиотека для работы со временем

using namespace std;

int main()
{
	setlocale(LC_ALL, "Russian"); // подключение русского языка
	int time, timer, i, otvet, nomer, ti;
	char q[1024];
	cout << "Введите время в секундах, отведенное на ответ" << endl;
	cin >> timer; // вводится переменная, хранящая кол-во секунд для ответа
	ifstream t("G:\\questions.txt"); // открываем для чтения указанный файл в переменную t
	while (!t.eof()) // цикл, читающий файл и выдающий из него вопросы, пока они не кончатся, заодно проверяющий правильность ответов
	{
		cout << "НОВЫЙ ВОПРОС:" << endl;
		for (i = 0; i < 4; i++) // так как каждый вопрос в текстовом файл разделен на 5 строчек, 4 из которых составляют текст задания, мы вводим под-цикл,
                                        //который построчно читает его
		{
			t.getline(q, 80); //чтение данной строки целиком в символьный (буквенный) массив q
			cout << q << endl; // вывод массива q на экран
		}
		t >> otvet; // чтение 5 строки, в которой записан ответ
		cout << "Ваш ответ номер: ";
                clock_t ti = clock(); // снятие показателя времени после озвучки вопроса
		cin >> nomer; // ввод ответа со стороны опрашиваемого
		time = (clock() - ti) / CLOCKS_PER_SEC; // вычисление потраченного времени: от времени на данный момент отнимается время, 
                                                        // зафиксированное до дачи ответа
		if (nomer == otvet) // проверка введенного номера ответа с правильным
		{
			if (time <= timer) // проверка, успел ли человек дать ответ в заданный промежуток времени
			{
				cout << "Правильно!" << endl;
			}
			else
			{
				cout << "Правильно, но ваше время истекло" << endl;
			}
		}
		else
		{
			cout << "Неправильно!" << endl;
		}
		t >> q; // чтение 6 строчки (разделительный пробел) для красоты
		cout << endl;
	}
	t.close(); // закрытие текстового файла
	system("pause");
}